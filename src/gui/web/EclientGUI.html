<!DOCTYPE html>
<html>
<head>

<title>Eclient</title>
<link rel="icon" href="images/E.png"></link>

<!--CSS-->
<link rel="stylesheet" href="/css/EclientGUI.css">

<!--Javascript-->
<script src="/js/brython.js"></script>
<script src="/js/brythonstd_lib.js"></script>
<script type='text/javascript' src='/eel.js'></script>

<!--GUI Functions-->

<script type='text/javascript'>
//load modules from json
async function loadmodules() {
    let moduledic = await eel.loadmodules()();
    return moduledic;
}

function setbtncolor(modulenm) {
    var moduledic = loadmodules();
    //var modulebtn = document.getElementById(modulenm);
    for (var key in moduledic) {
        console.log(JSON.stringify(key));
        

        //if (moduledic.modulenm) {
        //    modulebtn.style.backgroundColor = "#BC0000";
        //}
        //else {
        //    modulebtn.style.backgroundColor = "#650b0b";
        //}
    }
}


//toggle button colors

//$Red1: #BC0000;
//$Red2: #D81A1A;
var toggle = false;
function setColor(btn) {
    var property = document.getElementById(btn);
    if (toggle) {
        property.style.backgroundColor = "#BC0000";
        toggle = false;   
    }
    else {
        property.style.backgroundColor = "#650b0b";
        toggle = true;
    }
}

//toggle modules
async function togglemodule(btn, inputval) {
    let module = document.getElementById(inputval).value;

    let random_filename = await eel.togglemodule(module)();
    setColor(btn)
}

async function ZeroWaitForYou() {
    let zerowaitforyou = await eel.startZeroWaitForYou()();
    setColor('ZeroWaitForYou')
}

</script>


<!--Python-->


</head>
<body onload="brython(); setbtncolor('MovementLoggertoggle');">


<div class="row">
    <div class="column statistical">
        <h2>Statistical</h2>

        <form onsubmit="togglemodule('MovementLoggertoggle', 'MovementLogger'); return false;">
            <input id='MovementLogger' type="hidden" value='MovementLogger'/>
            <button class="EclientButton" id="MovementLoggertoggle" type="submit">MovementLogger</button>
        </form>

        <form onsubmit="togglemodule('KeyMappertoggle', 'KeyMapper'); return false;" >
            <input id='KeyMapper' type="hidden" value='KeyMapper'/>
            <button class="EclientButton" id="KeyMappertoggle" type="submit">Key Mapper</button>
        </form>

    </div>


    <div class="column miscellaneous">
        <h2>Miscellaneous</h2>

        <form onsubmit="togglemodule('PlayerTrackertoggle', 'PlayerTracker'); return false;" >
            <input id='PlayerTracker' type="hidden" value='PlayerTracker'/>
            <button class="EclientButton" id="PlayerTrackertoggle" type="submit">PlayerTracker</button>
        </form>

        <form onsubmit="ZeroWaitForYou(); return false;" >
            <input id='ZeroWaitForYou' type="hidden" value='ZeroWaitForYou'/>
            <button class="EclientButton" id="ZeroWaitForYoutoggle" type="submit">0wait4you</button>
        </form>
    
    </div>


    <div class="column movement">
        <h2>Movement</h2>

        <form onsubmit="togglemodule('Phasetoggle', 'Phase'); return false;" >
            <input id='Phase' type="hidden" value='Phase'/>
            <button class="EclientButton" id="Phasetoggle" type="submit">Phase</button>
        </form>

        <form onsubmit="togglemodule('Speedtoggle', 'Speed'); return false;" >
            <input id='Speed' type="hidden" value='Speed'/>
            <button class="EclientButton" id="Speedtoggle" type="submit">Speed</button>
        </form>

        <form onsubmit="togglemodule('Gocrazytoggle', 'GoCrazy'); return false;" >
            <input id='GoCrazy' type="hidden" value='GoCrazy'/>
            <button class="EclientButton" id="Gocrazytoggle" type="submit">Go Crazy</button>
        </form>

        <form onsubmit="togglemodule('Autosprinttoggle', 'AutoSprint'); return false;" >
            <input id='AutoSprint' type="hidden" value='AutoSprint'/>
            <button class="EclientButton" id="Autosprinttoggle" type="submit">Auto Sprint</button>
        </form>

    </div>


    <div class="column chat">
        <h2>Chat</h2>

        <form onsubmit="togglemodule('ChatLoggertoggle', 'ChatLogger'); return false;" >
            <input id='ChatLogger' type="hidden" value='ChatLogger'/>
            <button class="EclientButton" id="ChatLoggertoggle" type="submit">Chat Logger</button>
        </form>

    </div>


</div>

</body>
</html>